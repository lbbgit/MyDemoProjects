(function(G){"object"===typeof exports&&"undefined"!==typeof module?module.exports=G():"function"===typeof define&&define.amd?define([],G):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).io=G()})(function(){return function g(i,a,c){function f(e,l){if(!a[e]){if(!i[e]){var k="function"==typeof require&&require;if(!l&&k)return k(e,!0);if(b)return b(e,!0);k=Error("Cannot find module '"+e+"'");throw k.code="MODULE_NOT_FOUND",k;}k=a[e]={exports:{}};
i[e][0].call(k.exports,function(a){var b=i[e][1][a];return f(b?b:a)},k,k.exports,g,i,a,c)}return a[e].exports}for(var b="function"==typeof require&&require,e=0;e<c.length;e++)f(c[e]);return f}({1:[function(g,i,a){function c(a,b){"object"==typeof a&&(b=a,a=void 0);var b=b||{},c=f(a),h=c.source,d=c.id,q=c.path,q=l[d]&&q in l[d].nsps;b.forceNew||b["force new connection"]||!1===b.multiplex||q?(j("ignoring socket cache for %s",h),h=e(h,b)):(l[d]||(j("new io instance for %s",h),l[d]=e(h,b)),h=l[d]);return h.socket(c.path)}
var f=g("./url"),b=g("socket.io-parser"),e=g("./manager"),j=g("debug")("socket.io-client");i.exports=a=c;var l=a.managers={};a.protocol=b.protocol;a.connect=c;a.Manager=g("./manager");a.Socket=g("./socket")},{"./manager":2,"./socket":4,"./url":5,debug:14,"socket.io-parser":40}],2:[function(g,i){function a(d,h){if(!(this instanceof a))return new a(d,h);d&&"object"==typeof d&&(h=d,d=void 0);h=h||{};h.path=h.path||"/socket.io";this.nsps={};this.subs=[];this.opts=h;this.reconnection(!1!==h.reconnection);
this.reconnectionAttempts(h.reconnectionAttempts||Infinity);this.reconnectionDelay(h.reconnectionDelay||1E3);this.reconnectionDelayMax(h.reconnectionDelayMax||5E3);this.randomizationFactor(h.randomizationFactor||0.5);this.backoff=new m({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==h.timeout?2E4:h.timeout);this.readyState="closed";this.uri=d;this.connecting=[];this.lastPing=null;this.encoding=!1;this.packetBuffer=[];this.encoder=
new e.Encoder;this.decoder=new e.Decoder;(this.autoConnect=!1!==h.autoConnect)&&this.open()}var c=g("engine.io-client"),f=g("./socket"),b=g("component-emitter"),e=g("socket.io-parser"),j=g("./on"),l=g("component-bind"),k=g("debug")("socket.io-client:manager"),p=g("indexof"),m=g("backo2"),h=Object.prototype.hasOwnProperty;i.exports=a;a.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var d in this.nsps)h.call(this.nsps,d)&&this.nsps[d].emit.apply(this.nsps[d],arguments)};a.prototype.updateSocketIds=
function(){for(var d in this.nsps)h.call(this.nsps,d)&&(this.nsps[d].id=this.engine.id)};b(a.prototype);a.prototype.reconnection=function(d){if(!arguments.length)return this._reconnection;this._reconnection=!!d;return this};a.prototype.reconnectionAttempts=function(d){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=d;return this};a.prototype.reconnectionDelay=function(d){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=d;this.backoff&&this.backoff.setMin(d);
return this};a.prototype.randomizationFactor=function(d){if(!arguments.length)return this._randomizationFactor;this._randomizationFactor=d;this.backoff&&this.backoff.setJitter(d);return this};a.prototype.reconnectionDelayMax=function(d){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=d;this.backoff&&this.backoff.setMax(d);return this};a.prototype.timeout=function(d){if(!arguments.length)return this._timeout;this._timeout=d;return this};a.prototype.maybeReconnectOnOpen=
function(){!this.reconnecting&&(this._reconnection&&0===this.backoff.attempts)&&this.reconnect()};a.prototype.open=a.prototype.connect=function(d){k("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;k("opening %s",this.uri);var h=this.engine=c(this.uri,this.opts),a=this;this.readyState="opening";this.skipReconnect=!1;var b=j(h,"open",function(){a.onopen();d&&d()}),e=j(h,"error",function(h){k("connect_error");a.cleanup();a.readyState="closed";a.emitAll("connect_error",
h);if(d){var b=Error("Connection error");b.data=h;d(b)}else a.maybeReconnectOnOpen()});if(!1!==this._timeout){var f=this._timeout;k("connect attempt will timeout after %d",f);var g=setTimeout(function(){k("connect attempt timed out after %d",f);b.destroy();h.close();h.emit("error","timeout");a.emitAll("connect_timeout",f)},f);this.subs.push({destroy:function(){clearTimeout(g)}})}this.subs.push(b);this.subs.push(e);return this};a.prototype.onopen=function(){k("open");this.cleanup();this.readyState=
"open";this.emit("open");var d=this.engine;this.subs.push(j(d,"data",l(this,"ondata")));this.subs.push(j(d,"ping",l(this,"onping")));this.subs.push(j(d,"pong",l(this,"onpong")));this.subs.push(j(d,"error",l(this,"onerror")));this.subs.push(j(d,"close",l(this,"onclose")));this.subs.push(j(this.decoder,"decoded",l(this,"ondecoded")))};a.prototype.onping=function(){this.lastPing=new Date;this.emitAll("ping")};a.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};a.prototype.ondata=
function(d){this.decoder.add(d)};a.prototype.ondecoded=function(d){this.emit("packet",d)};a.prototype.onerror=function(d){k("error",d);this.emitAll("error",d)};a.prototype.socket=function(d){function h(){~p(b.connecting,a)||b.connecting.push(a)}var a=this.nsps[d];if(!a){a=new f(this,d);this.nsps[d]=a;var b=this;a.on("connecting",h);a.on("connect",function(){a.id=b.engine.id});this.autoConnect&&h()}return a};a.prototype.destroy=function(d){d=p(this.connecting,d);~d&&this.connecting.splice(d,1);this.connecting.length||
this.close()};a.prototype.packet=function(d){k("writing packet %j",d);var h=this;h.encoding?h.packetBuffer.push(d):(h.encoding=!0,this.encoder.encode(d,function(a){for(var b=0;b<a.length;b++)h.engine.write(a[b],d.options);h.encoding=!1;h.processPacketQueue()}))};a.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var d=this.packetBuffer.shift();this.packet(d)}};a.prototype.cleanup=function(){k("cleanup");for(var d;d=this.subs.shift();)d.destroy();this.packetBuffer=
[];this.encoding=!1;this.lastPing=null;this.decoder.destroy()};a.prototype.close=a.prototype.disconnect=function(){k("disconnect");this.skipReconnect=!0;this.reconnecting=!1;"opening"==this.readyState&&this.cleanup();this.backoff.reset();this.readyState="closed";this.engine&&this.engine.close()};a.prototype.onclose=function(d){k("onclose");this.cleanup();this.backoff.reset();this.readyState="closed";this.emit("close",d);this._reconnection&&!this.skipReconnect&&this.reconnect()};a.prototype.reconnect=
function(){if(this.reconnecting||this.skipReconnect)return this;var d=this;if(this.backoff.attempts>=this._reconnectionAttempts)k("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var h=this.backoff.duration();k("will wait %dms before reconnect attempt",h);this.reconnecting=!0;var a=setTimeout(function(){d.skipReconnect||(k("attempting reconnect"),d.emitAll("reconnect_attempt",d.backoff.attempts),d.emitAll("reconnecting",d.backoff.attempts),d.skipReconnect||
d.open(function(h){h?(k("reconnect attempt error"),d.reconnecting=!1,d.reconnect(),d.emitAll("reconnect_error",h.data)):(k("reconnect success"),d.onreconnect())}))},h);this.subs.push({destroy:function(){clearTimeout(a)}})}};a.prototype.onreconnect=function(){var h=this.backoff.attempts;this.reconnecting=!1;this.backoff.reset();this.updateSocketIds();this.emitAll("reconnect",h)}},{"./on":3,"./socket":4,backo2:8,"component-bind":11,"component-emitter":12,debug:14,"engine.io-client":16,indexof:32,"socket.io-parser":40}],
3:[function(g,i){i.exports=function(a,c,f){a.on(c,f);return{destroy:function(){a.removeListener(c,f)}}}},{}],4:[function(g,i){function a(h,d){this.io=h;this.nsp=d;this.json=this;this.ids=0;this.acks={};this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0;this.io.autoConnect&&this.open()}var c=g("socket.io-parser"),f=g("component-emitter"),b=g("to-array"),e=g("./on"),j=g("component-bind"),l=g("debug")("socket.io-client:socket"),k=g("has-binary");i.exports=a;var p={connect:1,
connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},m=f.prototype.emit;f(a.prototype);a.prototype.subEvents=function(){if(!this.subs){var h=this.io;this.subs=[e(h,"open",j(this,"onopen")),e(h,"packet",j(this,"onpacket")),e(h,"close",j(this,"onclose"))]}};a.prototype.open=a.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();
this.emit("connecting");return this};a.prototype.send=function(){var h=b(arguments);h.unshift("message");this.emit.apply(this,h);return this};a.prototype.emit=function(h){if(p.hasOwnProperty(h))return m.apply(this,arguments),this;var d=b(arguments),a=c.EVENT;k(d)&&(a=c.BINARY_EVENT);a={type:a,data:d,options:{}};a.options.compress=!this.flags||!1!==this.flags.compress;"function"==typeof d[d.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=d.pop(),a.id=this.ids++);this.connected?
this.packet(a):this.sendBuffer.push(a);delete this.flags;return this};a.prototype.packet=function(h){h.nsp=this.nsp;this.io.packet(h)};a.prototype.onopen=function(){l("transport is open - connecting");"/"!=this.nsp&&this.packet({type:c.CONNECT})};a.prototype.onclose=function(h){l("close (%s)",h);this.connected=!1;this.disconnected=!0;delete this.id;this.emit("disconnect",h)};a.prototype.onpacket=function(h){if(h.nsp==this.nsp)switch(h.type){case c.CONNECT:this.onconnect();break;case c.EVENT:this.onevent(h);
break;case c.BINARY_EVENT:this.onevent(h);break;case c.ACK:this.onack(h);break;case c.BINARY_ACK:this.onack(h);break;case c.DISCONNECT:this.ondisconnect();break;case c.ERROR:this.emit("error",h.data)}};a.prototype.onevent=function(h){var d=h.data||[];l("emitting event %j",d);null!=h.id&&(l("attaching ack callback to event"),d.push(this.ack(h.id)));this.connected?m.apply(this,d):this.receiveBuffer.push(d)};a.prototype.ack=function(h){var d=this,a=!1;return function(){if(!a){a=!0;var e=b(arguments);
l("sending ack %j",e);var f=k(e)?c.BINARY_ACK:c.ACK;d.packet({type:f,id:h,data:e})}}};a.prototype.onack=function(h){var a=this.acks[h.id];"function"==typeof a?(l("calling ack %s with %j",h.id,h.data),a.apply(this,h.data),delete this.acks[h.id]):l("bad ack %s",h.id)};a.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};a.prototype.emitBuffered=function(){var h;for(h=0;h<this.receiveBuffer.length;h++)m.apply(this,this.receiveBuffer[h]);this.receiveBuffer=
[];for(h=0;h<this.sendBuffer.length;h++)this.packet(this.sendBuffer[h]);this.sendBuffer=[]};a.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};a.prototype.destroy=function(){if(this.subs){for(var h=0;h<this.subs.length;h++)this.subs[h].destroy();this.subs=null}this.io.destroy(this)};a.prototype.close=a.prototype.disconnect=function(){this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:c.DISCONNECT}));
this.destroy();if(this.connected)this.onclose("io client disconnect");return this};a.prototype.compress=function(h){this.flags=this.flags||{};this.flags.compress=h;return this}},{"./on":3,"component-bind":11,"component-emitter":12,debug:14,"has-binary":30,"socket.io-parser":40,"to-array":43}],5:[function(g,i){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},c=g("parseuri"),f=g("debug")("socket.io-client:url");i.exports=function(b,e){var j=
b,e=e||a.location;null==b&&(b=e.protocol+"//"+e.host);"string"==typeof b&&("/"==b.charAt(0)&&(b="/"==b.charAt(1)?e.protocol+b:e.host+b),/^(https?|wss?):\/\//.test(b)||(f("protocol-less url %s",b),b="undefined"!=typeof e?e.protocol+"//"+b:"https://"+b),f("parse %s",b),j=c(b));j.port||(/^(http|ws)$/.test(j.protocol)?j.port="80":/^(http|ws)s$/.test(j.protocol)&&(j.port="443"));j.path=j.path||"/";var g=-1!==j.host.indexOf(":")?"["+j.host+"]":j.host;j.id=j.protocol+"://"+g+":"+j.port;j.href=j.protocol+
"://"+g+(e&&e.port==j.port?"":":"+j.port);return j}},{debug:14,parseuri:38}],6:[function(g,i){function a(){}i.exports=function(c,f,b){function e(a,c){if(0>=e.count)throw Error("after called too many times");--e.count;a?(j=!0,f(a),f=b):0===e.count&&!j&&f(null,c)}var j=!1,b=b||a;e.count=c;return 0===c?f():e}},{}],7:[function(g,i){i.exports=function(a,c,f){var b=a.byteLength,c=c||0,f=f||b;if(a.slice)return a.slice(c,f);0>c&&(c+=b);0>f&&(f+=b);f>b&&(f=b);if(c>=b||c>=f||0===b)return new ArrayBuffer(0);
for(var a=new Uint8Array(a),b=new Uint8Array(f-c),e=0;c<f;c++,e++)b[e]=a[c];return b.buffer}},{}],8:[function(g,i){function a(a){a=a||{};this.ms=a.min||100;this.max=a.max||1E4;this.factor=a.factor||2;this.jitter=0<a.jitter&&1>=a.jitter?a.jitter:0;this.attempts=0}i.exports=a;a.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter)var f=Math.random(),b=Math.floor(f*this.jitter*a),a=0==(Math.floor(10*f)&1)?a-b:a+b;return Math.min(a,this.max)|0};a.prototype.reset=
function(){this.attempts=0};a.prototype.setMin=function(a){this.ms=a};a.prototype.setMax=function(a){this.max=a};a.prototype.setJitter=function(a){this.jitter=a}},{}],9:[function(g,i,a){for(var c=new Uint8Array(256),g=0;64>g;g++)c["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(g)]=g;a.encode=function(a){var a=new Uint8Array(a),b,c=a.length,j="";for(b=0;b<c;b+=3)j+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a[b]>>2],j+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(a[b]&
3)<<4|a[b+1]>>4],j+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(a[b+1]&15)<<2|a[b+2]>>6],j+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a[b+2]&63];2===c%3?j=j.substring(0,j.length-1)+"=":1===c%3&&(j=j.substring(0,j.length-2)+"==");return j};a.decode=function(a){var b=0.75*a.length,e=a.length,j=0,g,k,p,m;"="===a[a.length-1]&&(b--,"="===a[a.length-2]&&b--);for(var h=new ArrayBuffer(b),d=new Uint8Array(h),b=0;b<e;b+=4)g=c[a.charCodeAt(b)],k=c[a.charCodeAt(b+
1)],p=c[a.charCodeAt(b+2)],m=c[a.charCodeAt(b+3)],d[j++]=g<<2|k>>4,d[j++]=(k&15)<<4|p>>2,d[j++]=(p&3)<<6|m&63;return h}},{}],10:[function(g,i){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},c=function(a){for(var d=0;d<a.length;d++){var b=a[d];if(b.buffer instanceof ArrayBuffer){var c=b.buffer;if(b.byteLength!==c.byteLength){var e=new Uint8Array(b.byteLength);e.set(new Uint8Array(c,b.byteOffset,b.byteLength));c=e.buffer}a[d]=c}}},f=function(a,
d){var d=d||{},b=new e;c(a);for(var f=0;f<a.length;f++)b.append(a[f]);return d.type?b.getBlob(d.type):b.getBlob()},b=function(a,d){c(a);return new Blob(a,d||{})},e=a.BlobBuilder||a.WebKitBlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder,j;try{j=2===(new Blob(["hi"])).size}catch(l){j=!1}var k;if(k=j)try{k=2===(new Blob([new Uint8Array([1,2])])).size}catch(p){k=!1}var m=e&&e.prototype.append&&e.prototype.getBlob;a=j?k?a.Blob:b:m?f:void 0;i.exports=a},{}],11:[function(g,i){var a=[].slice;i.exports=function(c,
f){"string"==typeof f&&(f=c[f]);if("function"!=typeof f)throw Error("bind() requires a function");var b=a.call(arguments,2);return function(){return f.apply(c,b.concat(a.call(arguments)))}}},{}],12:[function(g,i){function a(c){if(c){for(var f in a.prototype)c[f]=a.prototype[f];return c}}i.exports=a;a.prototype.on=a.prototype.addEventListener=function(a,f){this._callbacks=this._callbacks||{};(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(f);return this};a.prototype.once=function(a,f){function b(){this.off(a,
b);f.apply(this,arguments)}b.fn=f;this.on(a,b);return this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(a,f){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var b=this._callbacks["$"+a];if(!b)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var e,j=0;j<b.length;j++)if(e=b[j],e===f||e.fn===f){b.splice(j,1);break}return this};a.prototype.emit=function(a){this._callbacks=
this._callbacks||{};var f=[].slice.call(arguments,1),b=this._callbacks["$"+a];if(b)for(var b=b.slice(0),e=0,j=b.length;e<j;++e)b[e].apply(this,f);return this};a.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks["$"+a]||[]};a.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],13:[function(g,i){i.exports=function(a,c){var f=function(){};f.prototype=c.prototype;a.prototype=new f;a.prototype.constructor=a}},{}],14:[function(g,i,a){function c(){var b;
try{b=a.storage.debug}catch(c){}return b}a=i.exports=g("./debug");a.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};a.formatArgs=function(){var b=arguments,c=this.useColors;b[0]=(c?"%c":"")+this.namespace+(c?" %c":" ")+b[0]+(c?"%c ":" ")+"+"+a.humanize(this.diff);if(!c)return b;var c="color: "+this.color,b=[b[0],c,"color: inherit"].concat(Array.prototype.slice.call(b,1)),f=0,k=0;b[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&
(f++,"%c"===a&&(k=f))});b.splice(k,0,c);return b};a.save=function(b){try{null==b?a.storage.removeItem("debug"):a.storage.debug=b}catch(c){}};a.load=c;a.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};var f;if("undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage)f=chrome.storage.local;else a:{try{f=window.localStorage;
break a}catch(b){}f=void 0}a.storage=f;a.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");a.formatters.j=function(a){return JSON.stringify(a)};a.enable(c())},{"./debug":15}],15:[function(g,i,a){a=i.exports=function(b){function e(){}function j(){var b=j,e=+new Date;b.diff=e-(f||e);b.prev=f;f=b.curr=e;null==b.useColors&&(b.useColors=a.useColors());null==b.color&&b.useColors&&(b.color=a.colors[c++%a.colors.length]);var g=Array.prototype.slice.call(arguments);g[0]=
a.coerce(g[0]);"string"!==typeof g[0]&&(g=["%o"].concat(g));var h=0;g[0]=g[0].replace(/%([a-z%])/g,function(d,c){if("%%"===d)return d;h++;var e=a.formatters[c];"function"===typeof e&&(d=e.call(b,g[h]),g.splice(h,1),h--);return d});"function"===typeof a.formatArgs&&(g=a.formatArgs.apply(b,g));(j.log||a.log||console.log.bind(console)).apply(b,g)}e.enabled=!1;j.enabled=!0;var g=a.enabled(b)?j:e;g.namespace=b;return g};a.coerce=function(a){return a instanceof Error?a.stack||a.message:a};a.disable=function(){a.enable("")};
a.enable=function(b){a.save(b);for(var c=(b||"").split(/[\s,]+/),f=c.length,g=0;g<f;g++)c[g]&&(b=c[g].replace(/\*/g,".*?"),"-"===b[0]?a.skips.push(RegExp("^"+b.substr(1)+"$")):a.names.push(RegExp("^"+b+"$")))};a.enabled=function(b){var c,f;c=0;for(f=a.skips.length;c<f;c++)if(a.skips[c].test(b))return!1;c=0;for(f=a.names.length;c<f;c++)if(a.names[c].test(b))return!0;return!1};a.humanize=g("ms");a.names=[];a.skips=[];a.formatters={};var c=0,f},{ms:35}],16:[function(g,i){i.exports=g("./lib/")},{"./lib/":17}],
17:[function(g,i){i.exports=g("./socket");i.exports.parser=g("engine.io-parser")},{"./socket":18,"engine.io-parser":27}],18:[function(g,i){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},c=function(h,d){if(!(this instanceof c))return new c(h,d);d=d||{};h&&"object"==typeof h&&(d=h,h=null);h?(h=k(h),d.hostname=h.host,d.secure="https"==h.protocol||"wss"==h.protocol,d.port=h.port,h.query&&(d.query=h.query)):d.host&&(d.hostname=k(d.host).host);
this.secure=null!=d.secure?d.secure:a.location&&"https:"==location.protocol;d.hostname&&!d.port&&(d.port=this.secure?"443":"80");this.agent=d.agent||!1;this.hostname=d.hostname||(a.location?location.hostname:"localhost");this.port=d.port||(a.location&&location.port?location.port:this.secure?443:80);this.query=d.query||{};"string"==typeof this.query&&(this.query=m.decode(this.query));this.upgrade=!1!==d.upgrade;this.path=(d.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!d.forceJSONP;this.jsonp=
!1!==d.jsonp;this.forceBase64=!!d.forceBase64;this.enablesXDR=!!d.enablesXDR;this.timestampParam=d.timestampParam||"t";this.timestampRequests=d.timestampRequests;this.transports=d.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.policyPort=d.policyPort||843;this.rememberUpgrade=d.rememberUpgrade||!1;this.binaryType=null;this.onlyBinaryUpgrades=d.onlyBinaryUpgrades;this.perMessageDeflate=!1!==d.perMessageDeflate?d.perMessageDeflate||{}:!1;!0===this.perMessageDeflate&&
(this.perMessageDeflate={});this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024);this.pfx=d.pfx||null;this.key=d.key||null;this.passphrase=d.passphrase||null;this.cert=d.cert||null;this.ca=d.ca||null;this.ciphers=d.ciphers||null;this.rejectUnauthorized=void 0===d.rejectUnauthorized?!0:d.rejectUnauthorized;var b="object"==typeof a&&a;b.global===b&&(d.extraHeaders&&0<Object.keys(d.extraHeaders).length)&&(this.extraHeaders=d.extraHeaders);this.open()},
f=g("./transports"),b=g("component-emitter"),e=g("debug")("engine.io-client:socket"),j=g("indexof"),l=g("engine.io-parser"),k=g("parseuri"),p=g("parsejson"),m=g("parseqs");i.exports=c;c.priorWebsocketSuccess=!1;b(c.prototype);c.protocol=l.protocol;c.Socket=c;c.Transport=g("./transport");c.transports=g("./transports");c.parser=g("engine.io-parser");c.prototype.createTransport=function(a){e('creating transport "%s"',a);var d=this.query,b={},c;for(c in d)d.hasOwnProperty(c)&&(b[c]=d[c]);b.EIO=l.protocol;
b.transport=a;this.id&&(b.sid=this.id);return new f[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:b,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,
perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})};c.prototype.open=function(){var a;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";else{if(0===this.transports.length){var d=this;setTimeout(function(){d.emit("error","No transports available")},0);return}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(b){this.transports.shift();this.open();return}a.open();this.setTransport(a)};c.prototype.setTransport=
function(a){e("setting transport %s",a.name);var d=this;this.transport&&(e("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",function(){d.onDrain()}).on("packet",function(a){d.onPacket(a)}).on("error",function(a){d.onError(a)}).on("close",function(){d.onClose("transport close")})};c.prototype.probe=function(a){function d(){if(i.onlyBinaryUpgrades){var d=!this.supportsBinary&&i.transport.supportsBinary;l=l||d}l||(e('probe transport "%s" opened',
a),m.send([{type:"ping",data:"probe"}]),m.once("packet",function(d){l||("pong"==d.type&&"probe"==d.data?(e('probe transport "%s" pong',a),i.upgrading=!0,i.emit("upgrading",m),m&&(c.priorWebsocketSuccess="websocket"==m.name,e('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){!l&&"closed"!=i.readyState&&(e("changing transport and sending upgrade packet"),p(),i.setTransport(m),m.send([{type:"upgrade"}]),i.emit("upgrade",m),m=null,i.upgrading=!1,i.flush())}))):(e('probe transport "%s" failed',
a),d=Error("probe error"),d.transport=m.name,i.emit("upgradeError",d)))}))}function b(){l||(l=!0,p(),m.close(),m=null)}function f(d){var c=Error("probe error: "+d);c.transport=m.name;b();e('probe transport "%s" failed because of error: %s',a,d);i.emit("upgradeError",c)}function g(){f("transport closed")}function j(){f("socket closed")}function k(a){m&&a.name!=m.name&&(e('"%s" works - aborting "%s"',a.name,m.name),b())}function p(){m.removeListener("open",d);m.removeListener("error",f);m.removeListener("close",
g);i.removeListener("close",j);i.removeListener("upgrading",k)}e('probing transport "%s"',a);var m=this.createTransport(a,{probe:1}),l=!1,i=this;c.priorWebsocketSuccess=!1;m.once("open",d);m.once("error",f);m.once("close",g);this.once("close",j);this.once("upgrading",k);m.open()};c.prototype.onOpen=function(){e("socket open");this.readyState="open";c.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){e("starting upgrade probes");
for(var a=0,d=this.upgrades.length;a<d;a++)this.probe(this.upgrades[a])}};c.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(e('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case "open":this.onHandshake(p(a.data));break;case "pong":this.setPing();this.emit("pong");break;case "error":var d=Error("server error");d.code=a.data;this.onError(d);break;case "message":this.emit("data",a.data),this.emit("message",
a.data)}else e('packet received with socket readyState "%s"',this.readyState)};c.prototype.onHandshake=function(a){this.emit("handshake",a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};c.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);
var d=this;d.pingTimeoutTimer=setTimeout(function(){if("closed"!=d.readyState)d.onClose("ping timeout")},a||d.pingInterval+d.pingTimeout)};c.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){e("writing ping packet - expecting pong within %sms",a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};c.prototype.ping=function(){var a=this;this.sendPacket("ping",function(){a.emit("ping")})};c.prototype.onDrain=function(){this.writeBuffer.splice(0,
this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emit("drain"):this.flush()};c.prototype.flush=function(){"closed"!=this.readyState&&(this.transport.writable&&!this.upgrading&&this.writeBuffer.length)&&(e("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};c.prototype.write=c.prototype.send=function(a,d,b){this.sendPacket("message",a,d,b);return this};c.prototype.sendPacket=
function(a,d,b,c){"function"==typeof d&&(c=d,d=void 0);"function"==typeof b&&(c=b,b=null);if(!("closing"==this.readyState||"closed"==this.readyState)){b=b||{};b.compress=!1!==b.compress;a={type:a,data:d,options:b};this.emit("packetCreate",a);this.writeBuffer.push(a);if(c)this.once("flush",c);this.flush()}};c.prototype.close=function(){function a(){c.onClose("forced close");e("socket closing - telling transport to close");c.transport.close()}function d(){c.removeListener("upgrade",d);c.removeListener("upgradeError",
d);a()}function b(){c.once("upgrade",d);c.once("upgradeError",d)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var c=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?b():a()});else this.upgrading?b():a()}return this};c.prototype.onError=function(a){e("socket error %j",a);c.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};c.prototype.onClose=function(a,d){if("opening"==this.readyState||"open"==this.readyState||
"closing"==this.readyState)e('socket close with reason: "%s"',a),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",a,d),this.writeBuffer=[],this.prevBufferLen=0};c.prototype.filterUpgrades=function(a){for(var d=[],b=0,c=a.length;b<c;b++)~j(this.transports,a[b])&&d.push(a[b]);return d}},{"./transport":19,"./transports":20,
"component-emitter":26,debug:14,"engine.io-parser":27,indexof:32,parsejson:36,parseqs:37,parseuri:38}],19:[function(g,i){function a(a){this.path=a.path;this.hostname=a.hostname;this.port=a.port;this.secure=a.secure;this.query=a.query;this.timestampParam=a.timestampParam;this.timestampRequests=a.timestampRequests;this.readyState="";this.agent=a.agent||!1;this.socket=a.socket;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=
a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized;this.extraHeaders=a.extraHeaders}var c=g("engine.io-parser"),f=g("component-emitter");i.exports=a;f(a.prototype);a.prototype.onError=function(a,c){var f=Error(a);f.type="TransportError";f.description=c;this.emit("error",f);return this};a.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};a.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),
this.onClose();return this};a.prototype.send=function(a){if("open"==this.readyState)this.write(a);else throw Error("Transport not open");};a.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};a.prototype.onData=function(a){a=c.decodePacket(a,this.socket.binaryType);this.onPacket(a)};a.prototype.onPacket=function(a){this.emit("packet",a)};a.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":26,"engine.io-parser":27}],
20:[function(g,i,a){var c="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},f=g("xmlhttprequest-ssl"),b=g("./polling-xhr"),e=g("./polling-jsonp"),g=g("./websocket");a.polling=function(a){var g=!1,k=!1,i=!1!==a.jsonp;c.location&&(k="https:"==location.protocol,(g=location.port)||(g=k?443:80),g=a.hostname!=location.hostname||g!=a.port,k=a.secure!=k);a.xdomain=g;a.xscheme=k;if("open"in new f(a)&&!a.forceJSONP)return new b(a);if(!i)throw Error("JSONP disabled");
return new e(a)};a.websocket=g},{"./polling-jsonp":21,"./polling-xhr":22,"./websocket":24,"xmlhttprequest-ssl":25}],21:[function(g,i){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},c=function(){},f=function(f){b.call(this,f);this.query=this.query||{};k||(a.___eio||(a.___eio=[]),k=a.___eio);this.index=k.length;var e=this;k.push(function(a){e.onData(a)});this.query.j=this.index;a.document&&a.addEventListener&&a.addEventListener("beforeunload",
function(){e.script&&(e.script.onerror=c)},!1)},b=g("./polling"),e=g("component-inherit");i.exports=f;var j=/\n/g,l=/\\n/g,k;e(f,b);f.prototype.supportsBinary=!1;f.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),this.iframe=this.form=null);b.prototype.doClose.call(this)};f.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),
this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(d){a.onError("jsonp poll error",d)};var h=document.getElementsByTagName("script")[0];h?h.parentNode.insertBefore(b,h):(document.head||document.body).appendChild(b);this.script=b;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};f.prototype.doWrite=function(a,b){function h(){d();b()}function d(){if(c.iframe)try{c.form.removeChild(c.iframe)}catch(a){c.onError("jsonp polling iframe removal error",
a)}try{k=document.createElement('<iframe src="javascript:0" name="'+c.iframeId+'">')}catch(d){k=document.createElement("iframe"),k.name=c.iframeId,k.src="javascript:0"}k.id=c.iframeId;c.form.appendChild(k);c.iframe=k}var c=this;if(!this.form){var f=document.createElement("form"),e=document.createElement("textarea"),g=this.iframeId="eio_iframe_"+this.index,k;f.className="socketio";f.style.position="absolute";f.style.top="-1000px";f.style.left="-1000px";f.target=g;f.method="POST";f.setAttribute("accept-charset",
"utf-8");e.name="d";f.appendChild(e);document.body.appendChild(f);this.form=f;this.area=e}this.form.action=this.uri();d();a=a.replace(l,"\\\n");this.area.value=a.replace(j,"\\n");try{this.form.submit()}catch(i){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==c.iframe.readyState&&h()}:this.iframe.onload=h}},{"./polling":23,"component-inherit":13}],22:[function(g,i){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:
{},c=function(){},f=function(b){l.call(this,b);if(a.location){var d="https:"==location.protocol,c=location.port;c||(c=d?443:80);this.xd=b.hostname!=a.location.hostname||c!=b.port;this.xs=b.secure!=d}else this.extraHeaders=b.extraHeaders},b=function(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.pfx=
a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized;this.extraHeaders=a.extraHeaders;this.create()},e=function(){for(var a in b.requests)b.requests.hasOwnProperty(a)&&b.requests[a].abort()},j=g("xmlhttprequest-ssl"),l=g("./polling"),k=g("component-emitter"),p=g("component-inherit"),m=g("debug")("engine.io-client:polling-xhr");i.exports=f;i.exports.Request=b;p(f,l);f.prototype.supportsBinary=!0;f.prototype.request=
function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;a.pfx=this.pfx;a.key=this.key;a.passphrase=this.passphrase;a.cert=this.cert;a.ca=this.ca;a.ciphers=this.ciphers;a.rejectUnauthorized=this.rejectUnauthorized;a.extraHeaders=this.extraHeaders;return new b(a)};f.prototype.doWrite=function(a,d){var b=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),c=this;b.on("success",d);
b.on("error",function(a){c.onError("xhr post error",a)});this.sendXhr=b};f.prototype.doPoll=function(){m("xhr poll");var a=this.request(),d=this;a.on("data",function(a){d.onData(a)});a.on("error",function(a){d.onError("xhr poll error",a)});this.pollXhr=a};k(b.prototype);b.prototype.create=function(){var c={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};c.pfx=this.pfx;c.key=this.key;c.passphrase=this.passphrase;c.cert=this.cert;c.ca=this.ca;c.ciphers=this.ciphers;c.rejectUnauthorized=
this.rejectUnauthorized;var d=this.xhr=new j(c),f=this;try{m("xhr open %s: %s",this.method,this.uri);d.open(this.method,this.uri,this.async);try{if(this.extraHeaders){d.setDisableHeaderCheck(!0);for(var e in this.extraHeaders)this.extraHeaders.hasOwnProperty(e)&&d.setRequestHeader(e,this.extraHeaders[e])}}catch(g){}this.supportsBinary&&(d.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?d.setRequestHeader("Content-type","application/octet-stream"):d.setRequestHeader("Content-type",
"text/plain;charset=UTF-8")}catch(k){}"withCredentials"in d&&(d.withCredentials=!0);this.hasXDR()?(d.onload=function(){f.onLoad()},d.onerror=function(){f.onError(d.responseText)}):d.onreadystatechange=function(){if(4==d.readyState)if(200==d.status||1223==d.status)f.onLoad();else setTimeout(function(){f.onError(d.status)},0)};m("xhr data %s",this.data);d.send(this.data)}catch(i){setTimeout(function(){f.onError(i)},0);return}a.document&&(this.index=b.requestsCount++,b.requests[this.index]=this)};b.prototype.onSuccess=
function(){this.emit("success");this.cleanup()};b.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};b.prototype.onError=function(a){this.emit("error",a);this.cleanup(!0)};b.prototype.cleanup=function(h){if(!("undefined"==typeof this.xhr||null===this.xhr)){this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c;if(h)try{this.xhr.abort()}catch(d){}a.document&&delete b.requests[this.index];this.xhr=null}};b.prototype.onLoad=function(){var a;try{var d;try{d=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(b){}if("application/octet-stream"===
d)a=this.xhr.response;else if(this.supportsBinary)try{a=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(c){var f=new Uint8Array(this.xhr.response);d=[];for(var e=0,g=f.length;e<g;e++)d.push(f[e]);a=String.fromCharCode.apply(null,d)}else a=this.xhr.responseText}catch(k){this.onError(k)}if(null!=a)this.onData(a)};b.prototype.hasXDR=function(){return"undefined"!==typeof a.XDomainRequest&&!this.xs&&this.enablesXDR};b.prototype.abort=function(){this.cleanup()};a.document&&(b.requestsCount=
0,b.requests={},a.attachEvent?a.attachEvent("onunload",e):a.addEventListener&&a.addEventListener("beforeunload",e,!1))},{"./polling":23,"component-emitter":26,"component-inherit":13,debug:14,"xmlhttprequest-ssl":25}],23:[function(g,i){function a(a){var b=a&&a.forceBase64;if(!k||b)this.supportsBinary=!1;c.call(this,a)}var c=g("../transport"),f=g("parseqs"),b=g("engine.io-parser"),e=g("component-inherit"),j=g("yeast"),l=g("debug")("engine.io-client:polling");i.exports=a;var k;k=null!=(new (g("xmlhttprequest-ssl"))({xdomain:!1})).responseType;
e(a,c);a.prototype.name="polling";a.prototype.doOpen=function(){this.poll()};a.prototype.pause=function(a){function b(){l("paused");c.readyState="paused";a()}var c=this;this.readyState="pausing";if(this.polling||!this.writable){var d=0;this.polling&&(l("we are currently polling - waiting to pause"),d++,this.once("pollComplete",function(){l("pre-pause polling complete");--d||b()}));this.writable||(l("we are currently writing - waiting to pause"),d++,this.once("drain",function(){l("pre-pause writing complete");
--d||b()}))}else b()};a.prototype.poll=function(){l("polling");this.polling=!0;this.doPoll();this.emit("poll")};a.prototype.onData=function(a){var c=this;l("polling got data %s",a);b.decodePayload(a,this.socket.binaryType,function(a){if("opening"==c.readyState)c.onOpen();if("close"==a.type)return c.onClose(),!1;c.onPacket(a)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))};a.prototype.doClose=
function(){function a(){l("writing close packet");b.write([{type:"close"}])}var b=this;"open"==this.readyState?(l("transport open - closing"),a()):(l("transport not open - deferring close"),this.once("open",a))};a.prototype.write=function(a){var c=this;this.writable=!1;var f=function(){c.writable=!0;c.emit("drain")},c=this;b.encodePayload(a,this.supportsBinary,function(a){c.doWrite(a,f)})};a.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",c="";!1!==this.timestampRequests&&
(a[this.timestampParam]=j());!this.supportsBinary&&!a.sid&&(a.b64=1);a=f.encode(a);if(this.port&&("https"==b&&443!=this.port||"http"==b&&80!=this.port))c=":"+this.port;a.length&&(a="?"+a);var d=-1!==this.hostname.indexOf(":");return b+"://"+(d?"["+this.hostname+"]":this.hostname)+c+this.path+a}},{"../transport":19,"component-inherit":13,debug:14,"engine.io-parser":27,parseqs:37,"xmlhttprequest-ssl":25,yeast:45}],24:[function(g,i){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:
"undefined"!==typeof global?global:{},c=function(a){a&&a.forceBase64&&(this.supportsBinary=!1);this.perMessageDeflate=a.perMessageDeflate;f.call(this,a)},f=g("../transport"),b=g("engine.io-parser"),e=g("parseqs"),j=g("component-inherit"),l=g("yeast"),k=g("debug")("engine.io-client:websocket"),p=a.WebSocket||a.MozWebSocket,m=p;if(!m&&"undefined"===typeof window)try{m=g("ws")}catch(h){}i.exports=c;j(c,f);c.prototype.name="websocket";c.prototype.supportsBinary=!0;c.prototype.doOpen=function(){if(this.check()){var a=
this.uri(),b={agent:this.agent,perMessageDeflate:this.perMessageDeflate};b.pfx=this.pfx;b.key=this.key;b.passphrase=this.passphrase;b.cert=this.cert;b.ca=this.ca;b.ciphers=this.ciphers;b.rejectUnauthorized=this.rejectUnauthorized;this.extraHeaders&&(b.headers=this.extraHeaders);this.ws=p?new m(a):new m(a,void 0,b);void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer";this.addEventListeners()}};
c.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()};this.ws.onclose=function(){a.onClose()};this.ws.onmessage=function(b){a.onData(b.data)};this.ws.onerror=function(b){a.onError("websocket error",b)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(c.prototype.onData=function(a){var b=this;setTimeout(function(){f.prototype.onData.call(b,a)},0)});c.prototype.write=function(d){var c=this;this.writable=!1;for(var f=d.length,e=0,h=f;e<
h;e++)(function(d){b.encodePacket(d,c.supportsBinary,function(b){if(!p){var e={};d.options&&(e.compress=d.options.compress);if(c.perMessageDeflate&&("string"==typeof b?a.Buffer.byteLength(b):b.length)<c.perMessageDeflate.threshold)e.compress=!1}try{p?c.ws.send(b):c.ws.send(b,e)}catch(h){k("websocket closed before onclose event")}--f||(c.emit("flush"),setTimeout(function(){c.writable=!0;c.emit("drain")},0))})})(d[e])};c.prototype.onClose=function(){f.prototype.onClose.call(this)};c.prototype.doClose=
function(){"undefined"!==typeof this.ws&&this.ws.close()};c.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",c="";if(this.port&&("wss"==b&&443!=this.port||"ws"==b&&80!=this.port))c=":"+this.port;this.timestampRequests&&(a[this.timestampParam]=l());this.supportsBinary||(a.b64=1);a=e.encode(a);a.length&&(a="?"+a);var f=-1!==this.hostname.indexOf(":");return b+"://"+(f?"["+this.hostname+"]":this.hostname)+c+this.path+a};c.prototype.check=function(){return!!m&&!("__initialize"in
m&&this.name===c.prototype.name)}},{"../transport":19,"component-inherit":13,debug:14,"engine.io-parser":27,parseqs:37,ws:void 0,yeast:45}],25:[function(g,i){var a=g("has-cors");i.exports=function(c){var f=c.xdomain,b=c.xscheme,c=c.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!f||a))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!b&&c)return new XDomainRequest}catch(g){}if(!f)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}}},{"has-cors":31}],
26:[function(g,i){function a(c){if(c){for(var f in a.prototype)c[f]=a.prototype[f];return c}}i.exports=a;a.prototype.on=a.prototype.addEventListener=function(a,f){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(f);return this};a.prototype.once=function(a,f){function b(){e.off(a,b);f.apply(this,arguments)}var e=this;this._callbacks=this._callbacks||{};b.fn=f;this.on(a,b);return this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=
function(a,f){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var b=this._callbacks[a];if(!b)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var e,g=0;g<b.length;g++)if(e=b[g],e===f||e.fn===f){b.splice(g,1);break}return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};var f=[].slice.call(arguments,1),b=this._callbacks[a];if(b)for(var b=b.slice(0),e=0,g=b.length;e<g;++e)b[e].apply(this,f);return this};a.prototype.listeners=
function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};a.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],27:[function(g,i,a){var c="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},f=function(a,b,d){for(var c=Array(a.length),d=l(a.length,d),f=function(a,d,f){b(d,function(b,d){c[a]=d;f(b,c)})},e=0;e<a.length;e++)f(e,a[e],d)},i=g("./keys"),b=g("has-binary"),e=g("arraybuffer.slice"),j=g("base64-arraybuffer"),
l=g("after"),k=g("utf8"),p=navigator.userAgent.match(/Android/i),m=/PhantomJS/i.test(navigator.userAgent),h=p||m;a.protocol=3;var d=a.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},q=i(d),v={type:"error",data:"parser error"},r=g("blob");a.encodePacket=function(b,f,e,g){"function"==typeof f&&(g=f,f=!1);"function"==typeof e&&(g=e,e=null);var j=void 0===b.data?void 0:b.data.buffer||b.data;if(c.ArrayBuffer&&j instanceof ArrayBuffer){e=g;if(f){g=b.data;f=new Uint8Array(g);g=new Uint8Array(1+
g.byteLength);g[0]=d[b.type];for(j=0;j<f.length;j++)g[j+1]=f[j];e=e(g.buffer)}else e=a.encodeBase64Packet(b,e);return e}if(r&&j instanceof c.Blob){var i=f,l=g;if(i)if(h)if(i){var m=new FileReader;m.onload=function(){b.data=m.result;a.encodePacket(b,i,!0,l)};e=m.readAsArrayBuffer(b.data)}else e=a.encodeBase64Packet(b,l);else e=new Uint8Array(1),e[0]=d[b.type],e=new r([e.buffer,b.data]),e=l(e);else e=a.encodeBase64Packet(b,l);return e}if(j&&j.base64)return g("b"+a.packets[b.type]+b.data.data);f=d[b.type];
void 0!==b.data&&(f+=e?k.encode(String(b.data)):String(b.data));return g(""+f)};a.encodeBase64Packet=function(b,d){var e="b"+a.packets[b.type];if(r&&b.data instanceof c.Blob){var f=new FileReader;f.onload=function(){var a=f.result.split(",")[1];d(e+a)};return f.readAsDataURL(b.data)}var h;try{h=String.fromCharCode.apply(null,new Uint8Array(b.data))}catch(g){h=new Uint8Array(b.data);for(var k=Array(h.length),j=0;j<h.length;j++)k[j]=h[j];h=String.fromCharCode.apply(null,k)}e+=c.btoa(h);return d(e)};
a.decodePacket=function(b,d,c){if("string"==typeof b||void 0===b){if("b"==b.charAt(0))return a.decodeBase64Packet(b.substr(1),d);if(c)try{b=k.decode(b)}catch(f){return v}c=b.charAt(0);return Number(c)!=c||!q[c]?v:1<b.length?{type:q[c],data:b.substring(1)}:{type:q[c]}}c=(new Uint8Array(b))[0];b=e(b,1);r&&"blob"===d&&(b=new r([b]));return{type:q[c],data:b}};a.decodeBase64Packet=function(a,b){var d=q[a.charAt(0)];if(!c.ArrayBuffer)return{type:d,data:{base64:!0,data:a.substr(1)}};var e=j.decode(a.substr(1));
"blob"===b&&r&&(e=new r([e]));return{type:d,data:e}};a.encodePayload=function(d,c,e){"function"==typeof c&&(e=c,c=null);var g=b(d);if(c&&g)return r&&!h?a.encodePayloadAsBlob(d,e):a.encodePayloadAsArrayBuffer(d,e);if(!d.length)return e("0:");f(d,function(b,d){a.encodePacket(b,!g?!1:c,!0,function(a){d(null,a.length+":"+a)})},function(a,b){return e(b.join(""))})};a.decodePayload=function(b,d,c){if("string"!=typeof b)return a.decodePayloadAsBinary(b,d,c);"function"===typeof d&&(c=d,d=null);var e;if(""==
b)return c(v,0,1);e="";for(var f,h,g=0,k=b.length;g<k;g++)if(h=b.charAt(g),":"!=h)e+=h;else{if(""==e||e!=(f=Number(e)))return c(v,0,1);h=b.substr(g+1,f);if(e!=h.length)return c(v,0,1);if(h.length){e=a.decodePacket(h,d,!0);if(v.type==e.type&&v.data==e.data)return c(v,0,1);if(!1===c(e,g+f,k))return}g+=f;e=""}if(""!=e)return c(v,0,1)};a.encodePayloadAsArrayBuffer=function(b,d){if(!b.length)return d(new ArrayBuffer(0));f(b,function(b,d){a.encodePacket(b,!0,!0,function(a){return d(null,a)})},function(a,
b){var c=b.reduce(function(a,b){var d;d="string"===typeof b?b.length:b.byteLength;return a+d.toString().length+d+2},0),e=new Uint8Array(c),f=0;b.forEach(function(a){var b="string"===typeof a,d=a;if(b){for(var d=new Uint8Array(a.length),c=0;c<a.length;c++)d[c]=a.charCodeAt(c);d=d.buffer}b?e[f++]=0:e[f++]=1;a=d.byteLength.toString();for(c=0;c<a.length;c++)e[f++]=parseInt(a[c]);e[f++]=255;d=new Uint8Array(d);for(c=0;c<d.length;c++)e[f++]=d[c]});return d(e.buffer)})};a.encodePayloadAsBlob=function(b,
d){f(b,function(b,d){a.encodePacket(b,!0,!0,function(a){var b=new Uint8Array(1);b[0]=1;if("string"===typeof a){for(var c=new Uint8Array(a.length),e=0;e<a.length;e++)c[e]=a.charCodeAt(e);a=c.buffer;b[0]=0}for(var c=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),f=new Uint8Array(c.length+1),e=0;e<c.length;e++)f[e]=parseInt(c[e]);f[c.length]=255;r&&(a=new r([b.buffer,f.buffer,a]),d(null,a))})},function(a,b){return d(new r(b))})};a.decodePayloadAsBinary=function(b,d,c){"function"===typeof d&&
(c=d,d=null);for(var f=[],h=!1;0<b.byteLength;){for(var g=new Uint8Array(b),k=0===g[0],j="",i=1;255!=g[i];i++){if(310<j.length){h=!0;break}j+=g[i]}if(h)return c(v,0,1);b=e(b,2+j.length);j=parseInt(j);g=e(b,0,j);if(k)try{g=String.fromCharCode.apply(null,new Uint8Array(g))}catch(l){k=new Uint8Array(g);g="";for(i=0;i<k.length;i++)g+=String.fromCharCode(k[i])}f.push(g);b=e(b,j)}var m=f.length;f.forEach(function(b,e){c(a.decodePacket(b,d,!0),e,m)})}},{"./keys":28,after:6,"arraybuffer.slice":7,"base64-arraybuffer":9,
blob:10,"has-binary":29,utf8:44}],28:[function(g,i){i.exports=Object.keys||function(a){var c=[],f=Object.prototype.hasOwnProperty,b;for(b in a)f.call(a,b)&&c.push(b);return c}},{}],29:[function(g,i){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},c=g("isarray");i.exports=function(f){function b(e){if(!e)return!1;if(a.Buffer&&a.Buffer.isBuffer(e)||a.ArrayBuffer&&e instanceof ArrayBuffer||a.Blob&&e instanceof Blob||a.File&&e instanceof File)return!0;
if(c(e))for(var f=0;f<e.length;f++){if(b(e[f]))return!0}else if(e&&"object"==typeof e)for(f in e.toJSON&&(e=e.toJSON()),e)if(Object.prototype.hasOwnProperty.call(e,f)&&b(e[f]))return!0;return!1}return b(f)}},{isarray:33}],30:[function(g,i){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},c=g("isarray");i.exports=function(f){function b(e){if(!e)return!1;if(a.Buffer&&a.Buffer.isBuffer&&a.Buffer.isBuffer(e)||a.ArrayBuffer&&e instanceof ArrayBuffer||
a.Blob&&e instanceof Blob||a.File&&e instanceof File)return!0;if(c(e))for(var f=0;f<e.length;f++){if(b(e[f]))return!0}else if(e&&"object"==typeof e)for(f in e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),e)if(Object.prototype.hasOwnProperty.call(e,f)&&b(e[f]))return!0;return!1}return b(f)}},{isarray:33}],31:[function(g,i){try{i.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(a){i.exports=!1}},{}],32:[function(g,i){var a=[].indexOf;i.exports=function(c,
f){if(a)return c.indexOf(f);for(var b=0;b<c.length;++b)if(c[b]===f)return b;return-1}},{}],33:[function(g,i){i.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],34:[function(g,i,a){var g="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},c=function(a,e){function h(a){if(h[a]!==w)return h[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=h("json-stringify")&&h("json-parse");
else{var c;if("json-stringify"==a){b=e.stringify;var f="function"==typeof b&&x;if(f){(c=function(){return 1}).toJSON=c;try{f="0"===b(0)&&"0"===b(new d)&&'""'==b(new g)&&b(t)===w&&b(w)===w&&b()===w&&"1"===b(c)&&"[1]"==b([c])&&"[null]"==b([w])&&"null"==b(null)&&"[null,null,null]"==b([w,t,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==b({a:[c,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===b(null,c)&&"[\n 1,\n 2\n]"==b([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==b(new j(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==
b(new j(864E13))&&'"-000001-01-01T00:00:00.000Z"'==b(new j(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==b(new j(-1))}catch(k){f=!1}}b=f}if("json-parse"==a){b=e.parse;if("function"==typeof b)try{if(0===b("0")&&!b(!1)){c=b('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var i=5==c.a.length&&1===c.a[0];if(i){try{i=!b('"\t"')}catch(l){}if(i)try{i=1!==b("01")}catch(p){}if(i)try{i=1!==b("1.")}catch(n){}}}}catch(v){i=!1}b=i}}return h[a]=!!b}a||(a=b.Object());e||(e=b.Object());var d=a.Number||b.Number,
g=a.String||b.String,k=a.Object||b.Object,j=a.Date||b.Date,i=a.SyntaxError||b.SyntaxError,l=a.TypeError||b.TypeError,M=a.Math||b.Math,E=a.JSON||b.JSON;"object"==typeof E&&E&&(e.stringify=E.stringify,e.parse=E.parse);var k=k.prototype,t=k.toString,u,B,w,x=new j(-0xc782b5b800cec);try{x=-109252==x.getUTCFullYear()&&0===x.getUTCMonth()&&1===x.getUTCDate()&&10==x.getUTCHours()&&37==x.getUTCMinutes()&&6==x.getUTCSeconds()&&708==x.getUTCMilliseconds()}catch(R){}if(!h("json")){var C=h("bug-string-char-index");
if(!x)var y=M.floor,N=[0,31,59,90,120,151,181,212,243,273,304,334],D=function(a,b){return N[b]+365*(a-1970)+y((a-1969+(b=+(1<b)))/4)-y((a-1901+b)/100)+y((a-1601+b)/400)};if(!(u=k.hasOwnProperty))u=function(a){var b={},d;(b.__proto__=null,b.__proto__={toString:1},b).toString!=t?u=function(a){var b=this.__proto__,a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(d=b.constructor,u=function(a){var b=(this.constructor||d).prototype;return a in this&&!(a in b&&this[a]===b[a])});b=null;return u.call(this,
a)};B=function(a,b){var d=0,c,e,g;(c=function(){this.valueOf=0}).prototype.valueOf=0;e=new c;for(g in e)u.call(e,g)&&d++;c=e=null;d?B=2==d?function(a,b){var d={},c="[object Function]"==t.call(a),e;for(e in a)!(c&&"prototype"==e)&&(!u.call(d,e)&&(d[e]=1)&&u.call(a,e))&&b(e)}:function(a,b){var d="[object Function]"==t.call(a),c,e;for(c in a)!(d&&"prototype"==c)&&(u.call(a,c)&&!(e="constructor"===c))&&b(c);(e||u.call(a,c="constructor"))&&b(c)}:(e="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),
B=function(a,b){var d="[object Function]"==t.call(a),c,g=!d&&"function"!=typeof a.constructor&&f[typeof a.hasOwnProperty]&&a.hasOwnProperty||u;for(c in a)!(d&&"prototype"==c)&&g.call(a,c)&&b(c);for(d=e.length;c=e[--d];g.call(a,c)&&b(c));});return B(a,b)};if(!h("json-stringify")){var O={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},z=function(a,b){return("000000"+(b||0)).slice(-a)},J=function(a){for(var b='"',d=0,c=a.length,e=!C||10<c,f=e&&(C?a.split(""):a);d<c;d++){var g=a.charCodeAt(d);
switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=O[g];break;default:if(32>g){b+="\\u00"+z(2,g.toString(16));break}b+=e?f[d]:a.charAt(d)}}return b+'"'},H=function(a,b,d,c,e,f,g){var h,k,j,i,m,p,q,n,r;try{h=b[a]}catch(v){}if("object"==typeof h&&h)if(k=t.call(h),"[object Date]"==k&&!u.call(h,"toJSON"))if(h>-1/0&&h<1/0){if(D){i=y(h/864E5);for(k=y(i/365.2425)+1970-1;D(k+1,0)<=i;k++);for(j=y((i-D(k,0))/30.42);D(k,j+1)<=i;j++);i=1+i-D(k,j);m=(h%864E5+864E5)%864E5;p=y(m/36E5)%24;q=y(m/6E4)%
60;n=y(m/1E3)%60;m%=1E3}else k=h.getUTCFullYear(),j=h.getUTCMonth(),i=h.getUTCDate(),p=h.getUTCHours(),q=h.getUTCMinutes(),n=h.getUTCSeconds(),m=h.getUTCMilliseconds();h=(0>=k||1E4<=k?(0>k?"-":"+")+z(6,0>k?-k:k):z(4,k))+"-"+z(2,j+1)+"-"+z(2,i)+"T"+z(2,p)+":"+z(2,q)+":"+z(2,n)+"."+z(3,m)+"Z"}else h=null;else if("function"==typeof h.toJSON&&("[object Number]"!=k&&"[object String]"!=k&&"[object Array]"!=k||u.call(h,"toJSON")))h=h.toJSON(a);d&&(h=d.call(b,a,h));if(null===h)return"null";k=t.call(h);if("[object Boolean]"==
k)return""+h;if("[object Number]"==k)return h>-1/0&&h<1/0?""+h:"null";if("[object String]"==k)return J(""+h);if("object"==typeof h){for(a=g.length;a--;)if(g[a]===h)throw l();g.push(h);r=[];b=f;f+=e;if("[object Array]"==k){j=0;for(a=h.length;j<a;j++)k=H(j,h,d,c,e,f,g),r.push(k===w?"null":k);a=r.length?e?"[\n"+f+r.join(",\n"+f)+"\n"+b+"]":"["+r.join(",")+"]":"[]"}else B(c||h,function(a){var b=H(a,h,d,c,e,f,g);b!==w&&r.push(J(a)+":"+(e?" ":"")+b)}),a=r.length?e?"{\n"+f+r.join(",\n"+f)+"\n"+b+"}":"{"+
r.join(",")+"}":"{}";g.pop();return a}};e.stringify=function(a,b,d){var c,e,h,g;if(f[typeof b]&&b)if("[object Function]"==(g=t.call(b)))e=b;else if("[object Array]"==g){h={};for(var k=0,j=b.length,i;k<j;i=b[k++],(g=t.call(i),"[object String]"==g||"[object Number]"==g)&&(h[i]=1));}if(d)if("[object Number]"==(g=t.call(d))){if(0<(d-=d%1)){c="";for(10<d&&(d=10);c.length<d;c+=" ");}}else"[object String]"==g&&(c=10>=d.length?d:d.slice(0,10));return H("",(i={},i[""]=a,i),e,h,c,"",[])}}if(!h("json-parse")){var P=
g.fromCharCode,Q={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},n,F,s=function(){n=F=null;throw i();},A=function(){for(var a=F,b=a.length,d,c,e,f,h;n<b;)switch(h=a.charCodeAt(n),h){case 9:case 10:case 13:case 32:n++;break;case 123:case 125:case 91:case 93:case 58:case 44:return d=C?a.charAt(n):a[n],n++,d;case 34:d="@";for(n++;n<b;)if(h=a.charCodeAt(n),32>h)s();else if(92==h)switch(h=a.charCodeAt(++n),h){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:d+=Q[h];
n++;break;case 117:c=++n;for(e=n+4;n<e;n++)h=a.charCodeAt(n),48<=h&&57>=h||(97<=h&&102>=h||65<=h&&70>=h)||s();d+=P("0x"+a.slice(c,n));break;default:s()}else{if(34==h)break;h=a.charCodeAt(n);for(c=n;32<=h&&92!=h&&34!=h;)h=a.charCodeAt(++n);d+=a.slice(c,n)}if(34==a.charCodeAt(n))return n++,d;s();default:c=n;45==h&&(f=!0,h=a.charCodeAt(++n));if(48<=h&&57>=h){for(48==h&&(h=a.charCodeAt(n+1),48<=h&&57>=h)&&s();n<b&&(h=a.charCodeAt(n),48<=h&&57>=h);n++);if(46==a.charCodeAt(n)){for(e=++n;e<b&&(h=a.charCodeAt(e),
48<=h&&57>=h);e++);e==n&&s();n=e}h=a.charCodeAt(n);if(101==h||69==h){h=a.charCodeAt(++n);(43==h||45==h)&&n++;for(e=n;e<b&&(h=a.charCodeAt(e),48<=h&&57>=h);e++);e==n&&s();n=e}return+a.slice(c,n)}f&&s();if("true"==a.slice(n,n+4))return n+=4,!0;if("false"==a.slice(n,n+5))return n+=5,!1;if("null"==a.slice(n,n+4))return n+=4,null;s()}return"$"},I=function(a){var b,d;"$"==a&&s();if("string"==typeof a){if("@"==(C?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;d||(d=!0)){a=A();if("]"==a)break;d&&
(","==a?(a=A(),"]"==a&&s()):s());","==a&&s();b.push(I(a))}return b}if("{"==a){for(b={};;d||(d=!0)){a=A();if("}"==a)break;d&&(","==a?(a=A(),"}"==a&&s()):s());(","==a||"string"!=typeof a||"@"!=(C?a.charAt(0):a[0])||":"!=A())&&s();b[a.slice(1)]=I(A())}return b}s()}return a},L=function(a,b,d){d=K(a,b,d);d===w?delete a[b]:a[b]=d},K=function(a,b,d){var c=a[b],e;if("object"==typeof c&&c)if("[object Array]"==t.call(c))for(e=c.length;e--;)L(c,e,d);else B(c,function(a){L(c,a,d)});return d.call(a,b,c)};e.parse=
function(a,b){var d,c;n=0;F=""+a;d=I(A());"$"!=A()&&s();n=F=null;return b&&"[object Function]"==t.call(b)?K((c={},c[""]=d,c),"",b):d}}}e.runInContext=c;return e},f={"function":!0,object:!0},a=f[typeof a]&&a&&!a.nodeType&&a,b=f[typeof window]&&window||this;if((i=a&&f[typeof i]&&i&&!i.nodeType&&"object"==typeof g&&g)&&(i.global===i||i.window===i||i.self===i))b=i;if(a)c(b,a);else{var e=b.JSON,j=b.JSON3,l=!1,k=c(b,b.JSON3={noConflict:function(){l||(l=!0,b.JSON=e,b.JSON3=j,e=j=null);return k}});b.JSON=
{parse:k.parse,stringify:k.stringify}}},{}],35:[function(g,i){function a(a){a=""+a;if(!(1E4<a.length)&&(a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a))){var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return c*l;case "days":case "day":case "d":return c*j;case "hours":case "hour":case "hrs":case "hr":case "h":return c*e;case "minutes":case "minute":case "mins":case "min":case "m":return c*
b;case "seconds":case "second":case "secs":case "sec":case "s":return c*f;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return c}}}function c(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var f=1E3,b=60*f,e=60*b,j=24*e,l=365.25*j;i.exports=function(g,i){i=i||{};return"string"==typeof g?a(g):i.long?c(g,j,"day")||c(g,e,"hour")||c(g,b,"minute")||c(g,f,"second")||g+" ms":g>=j?Math.round(g/j)+"d":g>=e?Math.round(g/e)+"h":g>=b?Math.round(g/b)+
"m":g>=f?Math.round(g/f)+"s":g+"ms"}},{}],36:[function(g,i){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},c=/^[\],:{}\s]*$/,f=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,b=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,e=/(?:^|:|,)(?:\s*\[)+/g,j=/^\s+/,l=/\s+$/;i.exports=function(g){if("string"!=typeof g||!g)return null;g=g.replace(j,"").replace(l,"");if(a.JSON&&JSON.parse)return JSON.parse(g);if(c.test(g.replace(f,"@").replace(b,
"]").replace(e,"")))return(new Function("return "+g))()}},{}],37:[function(g,i,a){a.encode=function(a){var f="",b;for(b in a)a.hasOwnProperty(b)&&(f.length&&(f+="&"),f+=encodeURIComponent(b)+"="+encodeURIComponent(a[b]));return f};a.decode=function(a){for(var f={},a=a.split("&"),b=0,e=a.length;b<e;b++){var g=a[b].split("=");f[decodeURIComponent(g[0])]=decodeURIComponent(g[1])}return f}},{}],38:[function(g,i){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
c="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");i.exports=function(f){var b=f,e=f.indexOf("["),g=f.indexOf("]");-1!=e&&-1!=g&&(f=f.substring(0,e)+f.substring(e,g).replace(/:/g,";")+f.substring(g,f.length));for(var f=a.exec(f||""),i={},k=14;k--;)i[c[k]]=f[k]||"";-1!=e&&-1!=g&&(i.source=b,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=
!0);return i}},{}],39:[function(g,i,a){var c="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},f=g("isarray"),b=g("./is-buffer");a.deconstructPacket=function(a){function c(a){if(!a)return a;if(b(a)){var e={_placeholder:!0,num:g.length};g.push(a);return e}if(f(a)){for(var e=Array(a.length),i=0;i<a.length;i++)e[i]=c(a[i]);return e}if("object"==typeof a&&!(a instanceof Date)){e={};for(i in a)e[i]=c(a[i]);return e}return a}var g=[];a.data=c(a.data);
a.attachments=g.length;return{packet:a,buffers:g}};a.reconstructPacket=function(a,b){function c(a){if(a&&a._placeholder)return b[a.num];if(f(a))for(var e=0;e<a.length;e++)a[e]=c(a[e]);else if(a&&"object"==typeof a)for(e in a)a[e]=c(a[e]);return a}a.data=c(a.data);a.attachments=void 0;return a};a.removeBlobs=function(a,g){function i(a,e,d){if(!a)return a;if(c.Blob&&a instanceof Blob||c.File&&a instanceof File){k++;var q=new FileReader;q.onload=function(){d?d[e]=this.result:p=this.result;--k||g(p)};
q.readAsArrayBuffer(a)}else if(f(a))for(q=0;q<a.length;q++)i(a[q],q,a);else if(a&&"object"==typeof a&&!b(a))for(q in a)i(a[q],q,a)}var k=0,p=a;i(p);k||g(p)}},{"./is-buffer":41,isarray:33}],40:[function(g,i,a){function c(){}function f(b){var d,c=!1;d=""+b.type;if(a.BINARY_EVENT==b.type||a.BINARY_ACK==b.type)d+=b.attachments,d+="-";b.nsp&&"/"!=b.nsp&&(c=!0,d+=b.nsp);null!=b.id&&(c&&(d+=",",c=!1),d+=b.id);null!=b.data&&(c&&(d+=","),d+=k.stringify(b.data));l("encoded %j as %s",b,d);return d}function b(){this.reconstructor=
null}function e(a){this.reconPack=a;this.buffers=[]}function j(){return{type:a.ERROR,data:"parser error"}}var l=g("debug")("socket.io-parser"),k=g("json3");g("isarray");var i=g("component-emitter"),p=g("./binary"),m=g("./is-buffer");a.protocol=4;a.types="CONNECT DISCONNECT EVENT ACK ERROR BINARY_EVENT BINARY_ACK".split(" ");a.CONNECT=0;a.DISCONNECT=1;a.EVENT=2;a.ACK=3;a.ERROR=4;a.BINARY_EVENT=5;a.BINARY_ACK=6;a.Encoder=c;a.Decoder=b;c.prototype.encode=function(b,d){l("encoding packet %j",b);if(a.BINARY_EVENT==
b.type||a.BINARY_ACK==b.type)p.removeBlobs(b,function(a){var b=p.deconstructPacket(a),a=f(b.packet),b=b.buffers;b.unshift(a);d(b)});else{var c=f(b);d([c])}};i(b.prototype);b.prototype.add=function(b){if("string"==typeof b){a:{var d={},c=0;d.type=Number(b.charAt(0));if(null==a.types[d.type])b=j();else{if(a.BINARY_EVENT==d.type||a.BINARY_ACK==d.type){for(var f="";"-"!=b.charAt(++c)&&!(f+=b.charAt(c),c==b.length););if(f!=Number(f)||"-"!=b.charAt(c))throw Error("Illegal attachments");d.attachments=Number(f)}if("/"==
b.charAt(c+1))for(d.nsp="";++c;){f=b.charAt(c);if(","==f)break;d.nsp+=f;if(c==b.length)break}else d.nsp="/";f=b.charAt(c+1);if(""!==f&&Number(f)==f){for(d.id="";++c;){f=b.charAt(c);if(null==f||Number(f)!=f){--c;break}d.id+=b.charAt(c);if(c==b.length)break}d.id=Number(d.id)}if(b.charAt(++c))try{d.data=k.parse(b.substr(c))}catch(g){b=j();break a}l("decoded %s as %j",b,d);b=d}}a.BINARY_EVENT==b.type||a.BINARY_ACK==b.type?(this.reconstructor=new e(b),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",
b)):this.emit("decoded",b)}else if(m(b)||b.base64)if(this.reconstructor){if(b=this.reconstructor.takeBinaryData(b))this.reconstructor=null,this.emit("decoded",b)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+b);};b.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};e.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=p.reconstructPacket(this.reconPack,
this.buffers),this.finishedReconstruction(),a):null};e.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":39,"./is-buffer":41,"component-emitter":42,debug:14,isarray:33,json3:34}],41:[function(g,i){var a="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{};i.exports=function(c){return a.Buffer&&a.Buffer.isBuffer(c)||a.ArrayBuffer&&c instanceof ArrayBuffer}},{}],42:[function(g,i,a){arguments[4][26][0].apply(a,
arguments)},{dup:26}],43:[function(g,i){i.exports=function(a,c){for(var f=[],b=(c=c||0)||0;b<a.length;b++)f[b-c]=a[b];return f}},{}],44:[function(g,i,a){var c="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},g=this,f=function(a){for(var b=[],c=0,e=a.length,f,g;c<e;)f=a.charCodeAt(c++),55296<=f&&56319>=f&&c<e?(g=a.charCodeAt(c++),56320==(g&64512)?b.push(((f&1023)<<10)+(g&1023)+65536):(b.push(f),c--)):b.push(f);return b},b=function(a){if(55296<=
a&&57343>=a)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value");},e=function(){if(m>=p)throw Error("Invalid byte index");var a=k[m]&255;m++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");},j=function(){var a,c,f,g;if(m>p)throw Error("Invalid byte index");if(m==p)return!1;a=k[m]&255;m++;if(0==(a&128))return a;if(192==(a&224)){c=e();a=(a&31)<<6|c;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){c=e();f=e();a=(a&15)<<
12|c<<6|f;if(2048<=a)return b(a),a;throw Error("Invalid continuation byte");}if(240==(a&248)&&(c=e(),f=e(),g=e(),a=(a&15)<<18|c<<12|f<<6|g,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");},a="object"==typeof a&&a,i="object"==typeof i&&i&&i.exports==a&&i,c="object"==typeof c&&c;if(c.global===c||c.window===c)g=c;var l=String.fromCharCode,k,p,m,c={version:"2.0.0",encode:function(a){for(var a=f(a),c=a.length,e=-1,g,h="";++e<c;){g=a[e];if(0==(g&4294967168))g=l(g);else{var i="";0==
(g&4294965248)?i=l(g>>6&31|192):0==(g&4294901760)?(b(g),i=l(g>>12&15|224),i+=l(g>>6&63|128)):0==(g&4292870144)&&(i=l(g>>18&7|240),i+=l(g>>12&63|128),i+=l(g>>6&63|128));g=i+=l(g&63|128)}h+=g}return h},decode:function(a){k=f(a);p=k.length;m=0;for(var a=[],b;!1!==(b=j());)a.push(b);b=a.length;for(var c=-1,e,g="";++c<b;)e=a[c],65535<e&&(e-=65536,g+=l(e>>>10&1023|55296),e=56320|e&1023),g+=l(e);return g}};if(a&&!a.nodeType)if(i)i.exports=c;else{var g={}.hasOwnProperty,h;for(h in c)g.call(c,h)&&(a[h]=c[h])}else g.utf8=
c},{}],45:[function(g,i){function a(a){var c="";do c=f[a%b]+c,a=Math.floor(a/b);while(0<a);return c}function c(){var b=a(+new Date);return b!==k?(j=0,k=b):b+"."+a(j++)}for(var f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),b=64,e={},j=0,l=0,k;l<b;l++)e[f[l]]=l;c.encode=a;c.decode=function(a){var c=0;for(l=0;l<a.length;l++)c=c*b+e[a.charAt(l)];return c};i.exports=c},{}]},{},[1])(1)});
